@echo off
:-
:-  Boom builder for SFL 3.31
:-  Generated by iMatix Boom from standard.pwl
:-  
:-  Copyright (c) 1996-2009 iMatix Corporation
:-  All rights reserved.
:-  
:-  This file is licensed under the BSD license as follows:
:-  
:-  Redistribution and use in source and binary forms, with or without
:-  modification, are permitted provided that the following conditions
:-  are met:
:-  
:-  * Redistributions of source code must retain the above copyright
:-    notice, this list of conditions and the following disclaimer.
:-  * Redistributions in binary form must reproduce the above copyright
:-    notice, this list of conditions and the following disclaimer in
:-    the documentation and/or other materials provided with the
:-    distribution.
:-  * Neither the name of iMatix Corporation nor the names of its
:-    contributors may be used to endorse or promote products derived
:-    from this software without specific prior written permission.
:-  
:-  THIS SOFTWARE IS PROVIDED BY IMATIX CORPORATION "AS IS" AND ANY
:-  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
:-  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
:-  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL IMATIX CORPORATION BE
:-  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
:-  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
:-  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
:-  BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
:-  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
:-  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
:-  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
:-
:-  Start CMD.EXE version detection
verify other 2>nul
setlocal enableextensions
if errorlevel 0 goto __cmd_ok
echo %0: This command requires command extensions version 2 in CMD.EXE.
echo %0: Please use a supported system (Windows 2000 or newer).
exit
:__cmd_ok
setlocal enabledelayedexpansion
:-  End CMD.EXE version detection
goto :init
:-
:-  Subroutine: boom_model_init
:-  Initialises BOOM_MODEL to default if not set
:-  Expands BOOM_MODEL components into individual environment variables
:-
:boom_model_init
if "!BOOM_MODEL!"=="" (
    set BOOM_MODEL=release,st
)
set BOOM_MODEL__PLACEHOLDER=1
for /f "usebackq delims==" %%v in (`set BOOM_MODEL_`) do set %%v=
set BOOM_MODEL__PLACEHOLDER=
for %%m in (!BOOM_MODEL!) do set BOOM_MODEL_%%m=1
:-  If the user set BOOM_MODEL but did not include release/debug or st/mt
:-  set these to defaults.
if not "!BOOM_MODEL_RELEASE!"=="1" (
    if not "!BOOM_MODEL_DEBUG!"=="1" (
        set BOOM_MODEL_RELEASE=1
        set BOOM_MODEL=!BOOM_MODEL!,release
    )
)
if not "!BOOM_MODEL_ST!"=="1" (
    if not "!BOOM_MODEL_MT!"=="1" (
        set BOOM_MODEL_ST=1
        set BOOM_MODEL=!BOOM_MODEL!,st
    )
)
goto :eof
:init
setlocal
:-
:-  Set environment variables to point to install location
:-  Start by using final IBASE, then handle -install path
set self=%0
set MY_VERSION=3.31
set OLDPATH=!PATH!
set OLDPERLLIB=!PERLLIB!
if .!IBASE!==. (
    echo boom E: [sfl]: The IBASE variable is not set.             Please set it to the location where SFL should be installed.
    exit /b 1
)
if .%1==.-v (
    set BOOM_TRACE=1
    shift
)
call :boom_model_init
if .%1==.-install goto tempinst
:-  Normal use, use IBASE
    set PATH=!IBASE!\bin;!PATH!
    set PERLLIB=!IBASE!\bin;!PERLLIB!
    set INCDIR_ALT=!IBASE!\include
    set _INSTALL_ROOT=!IBASE!
    goto process

:tempinst
:-  Building product, we use -install directory first, then IBASE
    if not exist %2 (
       echo "Invalid command syntax - please contact imatix-tech"
       exit /b 1
    )
    pushd %2
    set _LOCAL_BASE=!cd!
    popd
    set PATH=!_LOCAL_BASE!\bin;!IBASE!\bin;!PATH!
    set PERLLIB=!_LOCAL_BASE!\bin;!IBASE!\bin;!PERLLIB!
    set INCDIR_ALT=!_LOCAL_BASE!\include;!IBASE!\include
    set _INSTALL_ROOT=!_LOCAL_BASE!
    shift
    shift
    goto process

:batch
    shift

:process
    set state=initial
    set event=ok
    set debug=0
    goto s_!state!

:---------------------------   BUILD BINARY FILES   ---------------------------

:a_build_binary_files
    echo boom I: [sfl]: Building SFL...
    if "!MSVCDir!"=="" set MSVCDir=C:\Program Files\Microsoft Visual Studio\VC98
    if not exist "!MSVCDir!\bin" (
        echo boom E: [sfl]: Cannot find MSVC compiler in !MSVCdir!.
        echo boom E: [sfl]: Please set MSVCDir environment variable to VC98 directory.
        set _exception=1
        goto :eof
    )
    set INCDIR=
    set LIBDIR=
    if "!BOOM_TRACE!"=="1" (
        set MY_COPTS=-v
    ) else (
        set MY_COPTS=-q
    )
    if not "!_LOCAL_BASE!"=="" (
        set MY_COPTS=!MY_COPTS! -li !_LOCAL_BASE!\include -ll !_LOCAL_BASE!\lib
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflbits
    verify>nul
    call c !MY_COPTS! sflbits
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflbits' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcomp
    verify>nul
    call c !MY_COPTS! sflcomp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcomp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcons
    verify>nul
    call c !MY_COPTS! sflcons
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcons' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflconv
    verify>nul
    call c !MY_COPTS! sflconv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflconv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcryp
    verify>nul
    call c !MY_COPTS! sflcryp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcryp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfldate
    verify>nul
    call c !MY_COPTS! sfldate
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfldate' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfldescr
    verify>nul
    call c !MY_COPTS! sfldescr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfldescr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfldir
    verify>nul
    call c !MY_COPTS! sfldir
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfldir' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflenv
    verify>nul
    call c !MY_COPTS! sflenv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflenv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflexdr
    verify>nul
    call c !MY_COPTS! sflexdr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflexdr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflfile
    verify>nul
    call c !MY_COPTS! sflfile
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflfile' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflfind
    verify>nul
    call c !MY_COPTS! sflfind
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflfind' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflfort
    verify>nul
    call c !MY_COPTS! sflfort
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflfort' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflheap
    verify>nul
    call c !MY_COPTS! sflheap
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflheap' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflhttp
    verify>nul
    call c !MY_COPTS! sflhttp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflhttp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflini
    verify>nul
    call c !MY_COPTS! sflini
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflini' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfllang
    verify>nul
    call c !MY_COPTS! sfllang
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfllang' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfllbuf
    verify>nul
    call c !MY_COPTS! sfllbuf
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfllbuf' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfllist
    verify>nul
    call c !MY_COPTS! sfllist
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfllist' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflmail
    verify>nul
    call c !MY_COPTS! sflmail
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflmail' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflmath
    verify>nul
    call c !MY_COPTS! sflmath
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflmath' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflmem
    verify>nul
    call c !MY_COPTS! sflmem
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflmem' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflmesg
    verify>nul
    call c !MY_COPTS! sflmesg
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflmesg' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflmime
    verify>nul
    call c !MY_COPTS! sflmime
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflmime' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflnode
    verify>nul
    call c !MY_COPTS! sflnode
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflnode' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflprint
    verify>nul
    call c !MY_COPTS! sflprint
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflprint' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflproc
    verify>nul
    call c !MY_COPTS! sflproc
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflproc' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflsearch
    verify>nul
    call c !MY_COPTS! sflsearch
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflsearch' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflsha
    verify>nul
    call c !MY_COPTS! sflsha
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflsha' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflslot
    verify>nul
    call c !MY_COPTS! sflslot
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflslot' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflsort
    verify>nul
    call c !MY_COPTS! sflsort
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflsort' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflstr
    verify>nul
    call c !MY_COPTS! sflstr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflstr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflsymb
    verify>nul
    call c !MY_COPTS! sflsymb
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflsymb' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflsyst
    verify>nul
    call c !MY_COPTS! sflsyst
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflsyst' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfltok
    verify>nul
    call c !MY_COPTS! sfltok
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfltok' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfltree
    verify>nul
    call c !MY_COPTS! sfltree
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfltree' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfltron
    verify>nul
    call c !MY_COPTS! sfltron
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfltron' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sfluid
    verify>nul
    call c !MY_COPTS! sfluid
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sfluid' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflxml
    verify>nul
    call c !MY_COPTS! sflxml
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflxml' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflxmll
    verify>nul
    call c !MY_COPTS! sflxmll
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflxmll' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflxmls
    verify>nul
    call c !MY_COPTS! sflxmls
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflxmls' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflsock
    verify>nul
    call c !MY_COPTS! sflsock
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflsock' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvbs
    verify>nul
    call c !MY_COPTS! sflcvbs
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvbs' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvdp
    verify>nul
    call c !MY_COPTS! sflcvdp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvdp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvds
    verify>nul
    call c !MY_COPTS! sflcvds
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvds' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvns
    verify>nul
    call c !MY_COPTS! sflcvns
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvns' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvsb
    verify>nul
    call c !MY_COPTS! sflcvsb
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvsb' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvsd
    verify>nul
    call c !MY_COPTS! sflcvsd
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvsd' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvsn
    verify>nul
    call c !MY_COPTS! sflcvsn
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvsn' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvst
    verify>nul
    call c !MY_COPTS! sflcvst
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvst' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvtp
    verify>nul
    call c !MY_COPTS! sflcvtp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvtp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflcvts
    verify>nul
    call c !MY_COPTS! sflcvts
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflcvts' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! sflscrit
    verify>nul
    call c !MY_COPTS! sflscrit
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! sflscrit' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testall
    verify>nul
    call c !MY_COPTS! testall
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testall' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testbits
    verify>nul
    call c !MY_COPTS! testbits
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testbits' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testcgi
    verify>nul
    call c !MY_COPTS! testcgi
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testcgi' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testcomp
    verify>nul
    call c !MY_COPTS! testcomp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testcomp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testconv
    verify>nul
    call c !MY_COPTS! testconv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testconv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testcryp
    verify>nul
    call c !MY_COPTS! testcryp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testcryp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testdate
    verify>nul
    call c !MY_COPTS! testdate
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testdate' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testdir
    verify>nul
    call c !MY_COPTS! testdir
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testdir' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testenv
    verify>nul
    call c !MY_COPTS! testenv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testenv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testexdr
    verify>nul
    call c !MY_COPTS! testexdr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testexdr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testfile
    verify>nul
    call c !MY_COPTS! testfile
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testfile' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testfind
    verify>nul
    call c !MY_COPTS! testfind
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testfind' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testfort
    verify>nul
    call c !MY_COPTS! testfort
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testfort' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testheap
    verify>nul
    call c !MY_COPTS! testheap
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testheap' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testhttp
    verify>nul
    call c !MY_COPTS! testhttp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testhttp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testini
    verify>nul
    call c !MY_COPTS! testini
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testini' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testlang
    verify>nul
    call c !MY_COPTS! testlang
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testlang' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testmem
    verify>nul
    call c !MY_COPTS! testmem
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testmem' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testmime
    verify>nul
    call c !MY_COPTS! testmime
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testmime' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testproc
    verify>nul
    call c !MY_COPTS! testproc
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testproc' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! teststr
    verify>nul
    call c !MY_COPTS! teststr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! teststr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testsym
    verify>nul
    call c !MY_COPTS! testsym
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testsym' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testtok
    verify>nul
    call c !MY_COPTS! testtok
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testtok' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testtree
    verify>nul
    call c !MY_COPTS! testtree
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testtree' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testtron
    verify>nul
    call c !MY_COPTS! testtron
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testtron' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testuid
    verify>nul
    call c !MY_COPTS! testuid
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testuid' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testxml
    verify>nul
    call c !MY_COPTS! testxml
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testxml' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testxmls
    verify>nul
    call c !MY_COPTS! testxmls
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testxmls' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! testsearch
    verify>nul
    call c !MY_COPTS! testsearch
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! testsearch' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! dos2unix
    verify>nul
    call c !MY_COPTS! dos2unix
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! dos2unix' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflbits
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflbits
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflbits' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcomp
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcomp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcomp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcons
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcons
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcons' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflconv
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflconv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflconv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcryp
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcryp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcryp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfldate
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfldate
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfldate' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfldescr
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfldescr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfldescr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfldir
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfldir
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfldir' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflenv
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflenv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflenv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflexdr
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflexdr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflexdr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflfile
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflfile
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflfile' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflfind
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflfind
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflfind' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflfort
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflfort
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflfort' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflheap
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflheap
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflheap' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflhttp
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflhttp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflhttp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflini
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflini
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflini' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfllang
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfllang
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfllang' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfllbuf
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfllbuf
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfllbuf' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfllist
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfllist
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfllist' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflmail
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflmail
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflmail' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflmath
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflmath
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflmath' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflmem
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflmem
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflmem' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflmesg
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflmesg
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflmesg' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflmime
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflmime
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflmime' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflnode
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflnode
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflnode' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflprint
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflprint
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflprint' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflproc
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflproc
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflproc' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflsearch
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflsearch
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflsearch' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflsha
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflsha
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflsha' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflslot
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflslot
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflslot' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflsort
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflsort
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflsort' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflstr
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflstr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflstr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflsymb
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflsymb
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflsymb' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflsyst
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflsyst
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflsyst' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfltok
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfltok
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfltok' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfltree
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfltree
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfltree' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfltron
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfltron
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfltron' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sfluid
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sfluid
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sfluid' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflxml
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflxml
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflxml' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflxmll
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflxmll
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflxmll' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflxmls
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflxmls
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflxmls' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflsock
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflsock
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflsock' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvbs
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvbs
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvbs' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvdp
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvdp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvdp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvds
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvds
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvds' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvns
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvns
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvns' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvsb
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvsb
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvsb' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvsd
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvsd
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvsd' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvsn
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvsn
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvsn' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvst
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvst
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvst' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvtp
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvtp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvtp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflcvts
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflcvts
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflcvts' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -r libsfl.lib sflscrit
    verify>nul
    call c !MY_COPTS! -r libsfl.lib sflscrit
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -r libsfl.lib sflscrit' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testall
    verify>nul
    call c !MY_COPTS! -L testall
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testall' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testbits
    verify>nul
    call c !MY_COPTS! -L testbits
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testbits' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testcgi
    verify>nul
    call c !MY_COPTS! -L testcgi
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testcgi' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testcomp
    verify>nul
    call c !MY_COPTS! -L testcomp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testcomp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testconv
    verify>nul
    call c !MY_COPTS! -L testconv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testconv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testcryp
    verify>nul
    call c !MY_COPTS! -L testcryp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testcryp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testdate
    verify>nul
    call c !MY_COPTS! -L testdate
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testdate' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testdir
    verify>nul
    call c !MY_COPTS! -L testdir
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testdir' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testenv
    verify>nul
    call c !MY_COPTS! -L testenv
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testenv' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testexdr
    verify>nul
    call c !MY_COPTS! -L testexdr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testexdr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testfile
    verify>nul
    call c !MY_COPTS! -L testfile
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testfile' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testfind
    verify>nul
    call c !MY_COPTS! -L testfind
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testfind' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testfort
    verify>nul
    call c !MY_COPTS! -L testfort
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testfort' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testheap
    verify>nul
    call c !MY_COPTS! -L testheap
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testheap' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testhttp
    verify>nul
    call c !MY_COPTS! -L testhttp
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testhttp' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testini
    verify>nul
    call c !MY_COPTS! -L testini
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testini' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testlang
    verify>nul
    call c !MY_COPTS! -L testlang
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testlang' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testmem
    verify>nul
    call c !MY_COPTS! -L testmem
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testmem' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testmime
    verify>nul
    call c !MY_COPTS! -L testmime
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testmime' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testproc
    verify>nul
    call c !MY_COPTS! -L testproc
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testproc' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L teststr
    verify>nul
    call c !MY_COPTS! -L teststr
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L teststr' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testsym
    verify>nul
    call c !MY_COPTS! -L testsym
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testsym' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testtok
    verify>nul
    call c !MY_COPTS! -L testtok
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testtok' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testtree
    verify>nul
    call c !MY_COPTS! -L testtree
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testtree' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testtron
    verify>nul
    call c !MY_COPTS! -L testtron
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testtron' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testuid
    verify>nul
    call c !MY_COPTS! -L testuid
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testuid' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testxml
    verify>nul
    call c !MY_COPTS! -L testxml
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testxml' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testxmls
    verify>nul
    call c !MY_COPTS! -L testxmls
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testxmls' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L testsearch
    verify>nul
    call c !MY_COPTS! -L testsearch
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L testsearch' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo c !MY_COPTS! -L dos2unix
    verify>nul
    call c !MY_COPTS! -L dos2unix
    if errorlevel 1 (
        echo boom E: [sfl]: 'c !MY_COPTS! -L dos2unix' failed - stop.
        set _exception=1
        goto :eof
    )
    goto :eof

:--------------------------   BUILD SOURCE PACKAGES   -------------------------

:a_build_source_packages
   if exist _package.lst del _package.lst
    if exist version.h echo version.h>>_package.lst
    if exist prelude.h echo prelude.h>>_package.lst
    if exist sflhead.h echo sflhead.h>>_package.lst
    if exist sflbits.c echo sflbits.c>>_package.lst
    if exist sflcomp.c echo sflcomp.c>>_package.lst
    if exist sflcons.c echo sflcons.c>>_package.lst
    if exist sflconv.c echo sflconv.c>>_package.lst
    if exist sflcryp.c echo sflcryp.c>>_package.lst
    if exist sfldate.c echo sfldate.c>>_package.lst
    if exist sfldescr.c echo sfldescr.c>>_package.lst
    if exist sfldir.c echo sfldir.c>>_package.lst
    if exist sflenv.c echo sflenv.c>>_package.lst
    if exist sflexdr.c echo sflexdr.c>>_package.lst
    if exist sflfile.c echo sflfile.c>>_package.lst
    if exist sflfind.c echo sflfind.c>>_package.lst
    if exist sflfort.c echo sflfort.c>>_package.lst
    if exist sflheap.c echo sflheap.c>>_package.lst
    if exist sflhttp.c echo sflhttp.c>>_package.lst
    if exist sflini.c echo sflini.c>>_package.lst
    if exist sfllang.c echo sfllang.c>>_package.lst
    if exist sfllbuf.c echo sfllbuf.c>>_package.lst
    if exist sfllist.c echo sfllist.c>>_package.lst
    if exist sflmail.c echo sflmail.c>>_package.lst
    if exist sflmath.c echo sflmath.c>>_package.lst
    if exist sflmem.c echo sflmem.c>>_package.lst
    if exist sflmesg.c echo sflmesg.c>>_package.lst
    if exist sflmime.c echo sflmime.c>>_package.lst
    if exist sflnode.c echo sflnode.c>>_package.lst
    if exist sflprint.c echo sflprint.c>>_package.lst
    if exist sflproc.c echo sflproc.c>>_package.lst
    if exist sflsearch.c echo sflsearch.c>>_package.lst
    if exist sflsha.c echo sflsha.c>>_package.lst
    if exist sflslot.c echo sflslot.c>>_package.lst
    if exist sflsort.c echo sflsort.c>>_package.lst
    if exist sflstr.c echo sflstr.c>>_package.lst
    if exist sflsymb.c echo sflsymb.c>>_package.lst
    if exist sflsyst.c echo sflsyst.c>>_package.lst
    if exist sfltok.c echo sfltok.c>>_package.lst
    if exist sfltree.c echo sfltree.c>>_package.lst
    if exist sfltron.c echo sfltron.c>>_package.lst
    if exist sfluid.c echo sfluid.c>>_package.lst
    if exist sflxml.c echo sflxml.c>>_package.lst
    if exist sflxmll.c echo sflxmll.c>>_package.lst
    if exist sflxmls.c echo sflxmls.c>>_package.lst
    if exist sflsock.c echo sflsock.c>>_package.lst
    if exist sflcvbs.c echo sflcvbs.c>>_package.lst
    if exist sflcvdp.c echo sflcvdp.c>>_package.lst
    if exist sflcvds.c echo sflcvds.c>>_package.lst
    if exist sflcvns.c echo sflcvns.c>>_package.lst
    if exist sflcvsb.c echo sflcvsb.c>>_package.lst
    if exist sflcvsd.c echo sflcvsd.c>>_package.lst
    if exist sflcvsn.c echo sflcvsn.c>>_package.lst
    if exist sflcvst.c echo sflcvst.c>>_package.lst
    if exist sflcvtp.c echo sflcvtp.c>>_package.lst
    if exist sflcvts.c echo sflcvts.c>>_package.lst
    if exist sflscrit.c echo sflscrit.c>>_package.lst
    if exist sflproco.imp echo sflproco.imp>>_package.lst
    if exist sflprocu.imp echo sflprocu.imp>>_package.lst
    if exist sflprocv.imp echo sflprocv.imp>>_package.lst
    if exist sflprocw.imp echo sflprocw.imp>>_package.lst
    if exist sflprocx.h echo sflprocx.h>>_package.lst
    if exist sflprocx.imp echo sflprocx.imp>>_package.lst
    if exist testall.c echo testall.c>>_package.lst
    if exist testbits.c echo testbits.c>>_package.lst
    if exist testcgi.c echo testcgi.c>>_package.lst
    if exist testcomp.c echo testcomp.c>>_package.lst
    if exist testconv.c echo testconv.c>>_package.lst
    if exist testcryp.c echo testcryp.c>>_package.lst
    if exist testdate.c echo testdate.c>>_package.lst
    if exist testdir.c echo testdir.c>>_package.lst
    if exist testenv.c echo testenv.c>>_package.lst
    if exist testexdr.c echo testexdr.c>>_package.lst
    if exist testfile.c echo testfile.c>>_package.lst
    if exist testfind.c echo testfind.c>>_package.lst
    if exist testfort.c echo testfort.c>>_package.lst
    if exist testheap.c echo testheap.c>>_package.lst
    if exist testhttp.c echo testhttp.c>>_package.lst
    if exist testini.c echo testini.c>>_package.lst
    if exist testlang.c echo testlang.c>>_package.lst
    if exist testmem.c echo testmem.c>>_package.lst
    if exist testmime.c echo testmime.c>>_package.lst
    if exist testproc.c echo testproc.c>>_package.lst
    if exist teststr.c echo teststr.c>>_package.lst
    if exist testsym.c echo testsym.c>>_package.lst
    if exist testtok.c echo testtok.c>>_package.lst
    if exist testtree.c echo testtree.c>>_package.lst
    if exist testtron.c echo testtron.c>>_package.lst
    if exist testuid.c echo testuid.c>>_package.lst
    if exist testxml.c echo testxml.c>>_package.lst
    if exist testxmls.c echo testxmls.c>>_package.lst
    if exist testsearch.c echo testsearch.c>>_package.lst
    if exist testconv.dat echo testconv.dat>>_package.lst
    if exist testfort.txt echo testfort.txt>>_package.lst
    if exist dos2unix.c echo dos2unix.c>>_package.lst
    if exist prelude.pdl echo prelude.pdl>>_package.lst
    if exist license.gpl echo license.gpl>>_package.lst
    if exist project.pdl echo project.pdl>>_package.lst
    if exist readme.txt echo readme.txt>>_package.lst
    if exist sflbits.h echo sflbits.h>>_package.lst
    if exist sflcomp.h echo sflcomp.h>>_package.lst
    if exist sflcons.h echo sflcons.h>>_package.lst
    if exist sflconv.h echo sflconv.h>>_package.lst
    if exist sflcryp.h echo sflcryp.h>>_package.lst
    if exist sfldate.h echo sfldate.h>>_package.lst
    if exist sfldescr.h echo sfldescr.h>>_package.lst
    if exist sfldir.h echo sfldir.h>>_package.lst
    if exist sflenv.h echo sflenv.h>>_package.lst
    if exist sflexdr.h echo sflexdr.h>>_package.lst
    if exist sflfile.h echo sflfile.h>>_package.lst
    if exist sflfind.h echo sflfind.h>>_package.lst
    if exist sflfort.h echo sflfort.h>>_package.lst
    if exist sflheap.h echo sflheap.h>>_package.lst
    if exist sflhttp.h echo sflhttp.h>>_package.lst
    if exist sflini.h echo sflini.h>>_package.lst
    if exist sfllang.h echo sfllang.h>>_package.lst
    if exist sfllbuf.h echo sfllbuf.h>>_package.lst
    if exist sfllist.h echo sfllist.h>>_package.lst
    if exist sflmail.h echo sflmail.h>>_package.lst
    if exist sflmath.h echo sflmath.h>>_package.lst
    if exist sflmem.h echo sflmem.h>>_package.lst
    if exist sflmesg.h echo sflmesg.h>>_package.lst
    if exist sflmime.h echo sflmime.h>>_package.lst
    if exist sflnode.h echo sflnode.h>>_package.lst
    if exist sflprint.h echo sflprint.h>>_package.lst
    if exist sflproc.h echo sflproc.h>>_package.lst
    if exist sflsearch.h echo sflsearch.h>>_package.lst
    if exist sflsha.h echo sflsha.h>>_package.lst
    if exist sflslot.h echo sflslot.h>>_package.lst
    if exist sflsort.h echo sflsort.h>>_package.lst
    if exist sflstr.h echo sflstr.h>>_package.lst
    if exist sflsymb.h echo sflsymb.h>>_package.lst
    if exist sflsyst.h echo sflsyst.h>>_package.lst
    if exist sfltok.h echo sfltok.h>>_package.lst
    if exist sfltree.h echo sfltree.h>>_package.lst
    if exist sfltron.h echo sfltron.h>>_package.lst
    if exist sfluid.h echo sfluid.h>>_package.lst
    if exist sflxml.h echo sflxml.h>>_package.lst
    if exist sflxmll.h echo sflxmll.h>>_package.lst
    if exist sflxmls.h echo sflxmls.h>>_package.lst
    if exist sflsock.h echo sflsock.h>>_package.lst
    if exist sflcvst.l echo sflcvst.l>>_package.lst
    if exist sflcvst.i echo sflcvst.i>>_package.lst
    if exist sflcvst.d echo sflcvst.d>>_package.lst
    if exist sflscrit.l echo sflscrit.l>>_package.lst
    if exist sflscrit.i echo sflscrit.i>>_package.lst
    if exist sflscrit.d echo sflscrit.d>>_package.lst
    if exist sfl.h echo sfl.h>>_package.lst
    if exist stamp_generate echo stamp_generate>>_package.lst
    if exist boomakew.bat echo boomakew.bat>>_package.lst
    if exist configure echo configure>>_package.lst
    if exist Makefile.unix echo Makefile.unix>>_package.lst
    if exist boomake echo boomake>>_package.lst
    if exist configure.bat echo configure.bat>>_package.lst
    if exist Makefile.win32 echo Makefile.win32>>_package.lst
    if exist boomake.bat echo boomake.bat>>_package.lst
    if exist libsfl.vcproj echo libsfl.vcproj>>_package.lst
    echo "Source package successfully generated">stamp_source
    echo "stamp_source">>_package.lst
    echo boom I: [sfl]: Building sfl-!MY_VERSION!-src.zip...
    zip  -rq _package -@<_package.lst
    unzip -q _package -d sfl-!MY_VERSION!
    if exist  sfl-!MY_VERSION!-src.zip del sfl-!MY_VERSION!-src.zip
    zip -rmq sfl-!MY_VERSION!-src.zip sfl-!MY_VERSION!
    del _package.zip
    del _package.lst
    del stamp_source
    goto :eof

:----------------------   CHECK ALL SOURCE FILES EXIST   ----------------------

:a_check_all_source_files_exist
    if not exist version.h (
        echo boom E: [sfl]: version.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist prelude.h (
        echo boom E: [sfl]: prelude.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhead.h (
        echo boom E: [sfl]: sflhead.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflbits.c (
        echo boom E: [sfl]: sflbits.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcomp.c (
        echo boom E: [sfl]: sflcomp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcons.c (
        echo boom E: [sfl]: sflcons.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflconv.c (
        echo boom E: [sfl]: sflconv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcryp.c (
        echo boom E: [sfl]: sflcryp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldate.c (
        echo boom E: [sfl]: sfldate.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldescr.c (
        echo boom E: [sfl]: sfldescr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldir.c (
        echo boom E: [sfl]: sfldir.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflenv.c (
        echo boom E: [sfl]: sflenv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflexdr.c (
        echo boom E: [sfl]: sflexdr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfile.c (
        echo boom E: [sfl]: sflfile.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfind.c (
        echo boom E: [sfl]: sflfind.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfort.c (
        echo boom E: [sfl]: sflfort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflheap.c (
        echo boom E: [sfl]: sflheap.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhttp.c (
        echo boom E: [sfl]: sflhttp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflini.c (
        echo boom E: [sfl]: sflini.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllang.c (
        echo boom E: [sfl]: sfllang.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllbuf.c (
        echo boom E: [sfl]: sfllbuf.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllist.c (
        echo boom E: [sfl]: sfllist.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmail.c (
        echo boom E: [sfl]: sflmail.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmath.c (
        echo boom E: [sfl]: sflmath.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmem.c (
        echo boom E: [sfl]: sflmem.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmesg.c (
        echo boom E: [sfl]: sflmesg.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmime.c (
        echo boom E: [sfl]: sflmime.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflnode.c (
        echo boom E: [sfl]: sflnode.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprint.c (
        echo boom E: [sfl]: sflprint.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproc.c (
        echo boom E: [sfl]: sflproc.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsearch.c (
        echo boom E: [sfl]: sflsearch.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsha.c (
        echo boom E: [sfl]: sflsha.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflslot.c (
        echo boom E: [sfl]: sflslot.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsort.c (
        echo boom E: [sfl]: sflsort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflstr.c (
        echo boom E: [sfl]: sflstr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsymb.c (
        echo boom E: [sfl]: sflsymb.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsyst.c (
        echo boom E: [sfl]: sflsyst.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltok.c (
        echo boom E: [sfl]: sfltok.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltree.c (
        echo boom E: [sfl]: sfltree.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltron.c (
        echo boom E: [sfl]: sfltron.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfluid.c (
        echo boom E: [sfl]: sfluid.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxml.c (
        echo boom E: [sfl]: sflxml.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmll.c (
        echo boom E: [sfl]: sflxmll.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmls.c (
        echo boom E: [sfl]: sflxmls.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsock.c (
        echo boom E: [sfl]: sflsock.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvbs.c (
        echo boom E: [sfl]: sflcvbs.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvdp.c (
        echo boom E: [sfl]: sflcvdp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvds.c (
        echo boom E: [sfl]: sflcvds.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvns.c (
        echo boom E: [sfl]: sflcvns.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsb.c (
        echo boom E: [sfl]: sflcvsb.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsd.c (
        echo boom E: [sfl]: sflcvsd.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsn.c (
        echo boom E: [sfl]: sflcvsn.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.c (
        echo boom E: [sfl]: sflcvst.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvtp.c (
        echo boom E: [sfl]: sflcvtp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvts.c (
        echo boom E: [sfl]: sflcvts.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.c (
        echo boom E: [sfl]: sflscrit.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproco.imp (
        echo boom E: [sfl]: sflproco.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocu.imp (
        echo boom E: [sfl]: sflprocu.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocv.imp (
        echo boom E: [sfl]: sflprocv.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocw.imp (
        echo boom E: [sfl]: sflprocw.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocx.h (
        echo boom E: [sfl]: sflprocx.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocx.imp (
        echo boom E: [sfl]: sflprocx.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testall.c (
        echo boom E: [sfl]: testall.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testbits.c (
        echo boom E: [sfl]: testbits.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcgi.c (
        echo boom E: [sfl]: testcgi.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcomp.c (
        echo boom E: [sfl]: testcomp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testconv.c (
        echo boom E: [sfl]: testconv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcryp.c (
        echo boom E: [sfl]: testcryp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testdate.c (
        echo boom E: [sfl]: testdate.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testdir.c (
        echo boom E: [sfl]: testdir.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testenv.c (
        echo boom E: [sfl]: testenv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testexdr.c (
        echo boom E: [sfl]: testexdr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfile.c (
        echo boom E: [sfl]: testfile.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfind.c (
        echo boom E: [sfl]: testfind.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfort.c (
        echo boom E: [sfl]: testfort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testheap.c (
        echo boom E: [sfl]: testheap.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testhttp.c (
        echo boom E: [sfl]: testhttp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testini.c (
        echo boom E: [sfl]: testini.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testlang.c (
        echo boom E: [sfl]: testlang.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testmem.c (
        echo boom E: [sfl]: testmem.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testmime.c (
        echo boom E: [sfl]: testmime.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testproc.c (
        echo boom E: [sfl]: testproc.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist teststr.c (
        echo boom E: [sfl]: teststr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testsym.c (
        echo boom E: [sfl]: testsym.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtok.c (
        echo boom E: [sfl]: testtok.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtree.c (
        echo boom E: [sfl]: testtree.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtron.c (
        echo boom E: [sfl]: testtron.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testuid.c (
        echo boom E: [sfl]: testuid.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testxml.c (
        echo boom E: [sfl]: testxml.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testxmls.c (
        echo boom E: [sfl]: testxmls.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testsearch.c (
        echo boom E: [sfl]: testsearch.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testconv.dat (
        echo boom E: [sfl]: testconv.dat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfort.txt (
        echo boom E: [sfl]: testfort.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist dos2unix.c (
        echo boom E: [sfl]: dos2unix.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist project.pdl (
        echo boom E: [sfl]: project.pdl is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist readme.txt (
        echo boom E: [sfl]: readme.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflbits.h (
        echo boom E: [sfl]: sflbits.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcomp.h (
        echo boom E: [sfl]: sflcomp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcons.h (
        echo boom E: [sfl]: sflcons.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflconv.h (
        echo boom E: [sfl]: sflconv.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcryp.h (
        echo boom E: [sfl]: sflcryp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldate.h (
        echo boom E: [sfl]: sfldate.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldescr.h (
        echo boom E: [sfl]: sfldescr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldir.h (
        echo boom E: [sfl]: sfldir.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflenv.h (
        echo boom E: [sfl]: sflenv.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflexdr.h (
        echo boom E: [sfl]: sflexdr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfile.h (
        echo boom E: [sfl]: sflfile.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfind.h (
        echo boom E: [sfl]: sflfind.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfort.h (
        echo boom E: [sfl]: sflfort.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflheap.h (
        echo boom E: [sfl]: sflheap.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhttp.h (
        echo boom E: [sfl]: sflhttp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflini.h (
        echo boom E: [sfl]: sflini.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllang.h (
        echo boom E: [sfl]: sfllang.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllbuf.h (
        echo boom E: [sfl]: sfllbuf.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllist.h (
        echo boom E: [sfl]: sfllist.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmail.h (
        echo boom E: [sfl]: sflmail.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmath.h (
        echo boom E: [sfl]: sflmath.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmem.h (
        echo boom E: [sfl]: sflmem.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmesg.h (
        echo boom E: [sfl]: sflmesg.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmime.h (
        echo boom E: [sfl]: sflmime.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflnode.h (
        echo boom E: [sfl]: sflnode.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprint.h (
        echo boom E: [sfl]: sflprint.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproc.h (
        echo boom E: [sfl]: sflproc.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsearch.h (
        echo boom E: [sfl]: sflsearch.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsha.h (
        echo boom E: [sfl]: sflsha.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflslot.h (
        echo boom E: [sfl]: sflslot.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsort.h (
        echo boom E: [sfl]: sflsort.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflstr.h (
        echo boom E: [sfl]: sflstr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsymb.h (
        echo boom E: [sfl]: sflsymb.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsyst.h (
        echo boom E: [sfl]: sflsyst.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltok.h (
        echo boom E: [sfl]: sfltok.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltree.h (
        echo boom E: [sfl]: sfltree.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltron.h (
        echo boom E: [sfl]: sfltron.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfluid.h (
        echo boom E: [sfl]: sfluid.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxml.h (
        echo boom E: [sfl]: sflxml.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmll.h (
        echo boom E: [sfl]: sflxmll.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmls.h (
        echo boom E: [sfl]: sflxmls.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsock.h (
        echo boom E: [sfl]: sflsock.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.l (
        echo boom E: [sfl]: sflcvst.l is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.i (
        echo boom E: [sfl]: sflcvst.i is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.d (
        echo boom E: [sfl]: sflcvst.d is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.l (
        echo boom E: [sfl]: sflscrit.l is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.i (
        echo boom E: [sfl]: sflscrit.i is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.d (
        echo boom E: [sfl]: sflscrit.d is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfl.h (
        echo boom E: [sfl]: sfl.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist stamp_generate (
        echo boom E: [sfl]: stamp_generate is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomakew.bat (
        echo boom E: [sfl]: boomakew.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist configure (
        echo boom E: [sfl]: configure is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist Makefile.unix (
        echo boom E: [sfl]: Makefile.unix is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomake (
        echo boom E: [sfl]: boomake is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist configure.bat (
        echo boom E: [sfl]: configure.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist Makefile.win32 (
        echo boom E: [sfl]: Makefile.win32 is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomake.bat (
        echo boom E: [sfl]: boomake.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist libsfl.vcproj (
        echo boom E: [sfl]: libsfl.vcproj is missing, cannot continue
        set _exception=1
        goto :eof
    )
    goto :eof

:------------------------   CHECK BINARY FILES EXIST   ------------------------

:a_check_binary_files_exist
    if not exist libsfl.lib (
        echo boom E: [sfl]: libsfl.lib is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist readme.txt (
        echo boom E: [sfl]: readme.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfl.h (
        echo boom E: [sfl]: sfl.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    goto :eof

:-------------------------   CHECK OPERATING CONTEXT   ------------------------

:a_check_operating_context
    set event=repository
    if exist stamp_source   set event=source
    if exist stamp_stripped set event=stripped
    goto :eof

:------------------------   CHECK PROJECT FILES EXIST   -----------------------

:a_check_project_files_exist
    if not exist version.h (
        echo boom E: [sfl]: version.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist prelude.h (
        echo boom E: [sfl]: prelude.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhead.h (
        echo boom E: [sfl]: sflhead.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflbits.c (
        echo boom E: [sfl]: sflbits.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcomp.c (
        echo boom E: [sfl]: sflcomp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcons.c (
        echo boom E: [sfl]: sflcons.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflconv.c (
        echo boom E: [sfl]: sflconv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcryp.c (
        echo boom E: [sfl]: sflcryp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldate.c (
        echo boom E: [sfl]: sfldate.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldescr.c (
        echo boom E: [sfl]: sfldescr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldir.c (
        echo boom E: [sfl]: sfldir.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflenv.c (
        echo boom E: [sfl]: sflenv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflexdr.c (
        echo boom E: [sfl]: sflexdr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfile.c (
        echo boom E: [sfl]: sflfile.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfind.c (
        echo boom E: [sfl]: sflfind.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfort.c (
        echo boom E: [sfl]: sflfort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflheap.c (
        echo boom E: [sfl]: sflheap.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhttp.c (
        echo boom E: [sfl]: sflhttp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflini.c (
        echo boom E: [sfl]: sflini.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllang.c (
        echo boom E: [sfl]: sfllang.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllbuf.c (
        echo boom E: [sfl]: sfllbuf.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllist.c (
        echo boom E: [sfl]: sfllist.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmail.c (
        echo boom E: [sfl]: sflmail.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmath.c (
        echo boom E: [sfl]: sflmath.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmem.c (
        echo boom E: [sfl]: sflmem.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmesg.c (
        echo boom E: [sfl]: sflmesg.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmime.c (
        echo boom E: [sfl]: sflmime.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflnode.c (
        echo boom E: [sfl]: sflnode.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprint.c (
        echo boom E: [sfl]: sflprint.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproc.c (
        echo boom E: [sfl]: sflproc.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsearch.c (
        echo boom E: [sfl]: sflsearch.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsha.c (
        echo boom E: [sfl]: sflsha.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflslot.c (
        echo boom E: [sfl]: sflslot.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsort.c (
        echo boom E: [sfl]: sflsort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflstr.c (
        echo boom E: [sfl]: sflstr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsymb.c (
        echo boom E: [sfl]: sflsymb.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsyst.c (
        echo boom E: [sfl]: sflsyst.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltok.c (
        echo boom E: [sfl]: sfltok.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltree.c (
        echo boom E: [sfl]: sfltree.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltron.c (
        echo boom E: [sfl]: sfltron.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfluid.c (
        echo boom E: [sfl]: sfluid.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxml.c (
        echo boom E: [sfl]: sflxml.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmll.c (
        echo boom E: [sfl]: sflxmll.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmls.c (
        echo boom E: [sfl]: sflxmls.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsock.c (
        echo boom E: [sfl]: sflsock.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvbs.c (
        echo boom E: [sfl]: sflcvbs.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvdp.c (
        echo boom E: [sfl]: sflcvdp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvds.c (
        echo boom E: [sfl]: sflcvds.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvns.c (
        echo boom E: [sfl]: sflcvns.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsb.c (
        echo boom E: [sfl]: sflcvsb.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsd.c (
        echo boom E: [sfl]: sflcvsd.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsn.c (
        echo boom E: [sfl]: sflcvsn.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.c (
        echo boom E: [sfl]: sflcvst.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvtp.c (
        echo boom E: [sfl]: sflcvtp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvts.c (
        echo boom E: [sfl]: sflcvts.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.c (
        echo boom E: [sfl]: sflscrit.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproco.imp (
        echo boom E: [sfl]: sflproco.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocu.imp (
        echo boom E: [sfl]: sflprocu.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocv.imp (
        echo boom E: [sfl]: sflprocv.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocw.imp (
        echo boom E: [sfl]: sflprocw.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocx.h (
        echo boom E: [sfl]: sflprocx.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocx.imp (
        echo boom E: [sfl]: sflprocx.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testall.c (
        echo boom E: [sfl]: testall.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testbits.c (
        echo boom E: [sfl]: testbits.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcgi.c (
        echo boom E: [sfl]: testcgi.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcomp.c (
        echo boom E: [sfl]: testcomp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testconv.c (
        echo boom E: [sfl]: testconv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcryp.c (
        echo boom E: [sfl]: testcryp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testdate.c (
        echo boom E: [sfl]: testdate.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testdir.c (
        echo boom E: [sfl]: testdir.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testenv.c (
        echo boom E: [sfl]: testenv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testexdr.c (
        echo boom E: [sfl]: testexdr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfile.c (
        echo boom E: [sfl]: testfile.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfind.c (
        echo boom E: [sfl]: testfind.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfort.c (
        echo boom E: [sfl]: testfort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testheap.c (
        echo boom E: [sfl]: testheap.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testhttp.c (
        echo boom E: [sfl]: testhttp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testini.c (
        echo boom E: [sfl]: testini.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testlang.c (
        echo boom E: [sfl]: testlang.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testmem.c (
        echo boom E: [sfl]: testmem.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testmime.c (
        echo boom E: [sfl]: testmime.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testproc.c (
        echo boom E: [sfl]: testproc.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist teststr.c (
        echo boom E: [sfl]: teststr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testsym.c (
        echo boom E: [sfl]: testsym.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtok.c (
        echo boom E: [sfl]: testtok.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtree.c (
        echo boom E: [sfl]: testtree.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtron.c (
        echo boom E: [sfl]: testtron.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testuid.c (
        echo boom E: [sfl]: testuid.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testxml.c (
        echo boom E: [sfl]: testxml.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testxmls.c (
        echo boom E: [sfl]: testxmls.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testsearch.c (
        echo boom E: [sfl]: testsearch.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testconv.dat (
        echo boom E: [sfl]: testconv.dat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfort.txt (
        echo boom E: [sfl]: testfort.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist dos2unix.c (
        echo boom E: [sfl]: dos2unix.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist project.pdl (
        echo boom E: [sfl]: project.pdl is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist readme.txt (
        echo boom E: [sfl]: readme.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflbits.h (
        echo boom E: [sfl]: sflbits.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcomp.h (
        echo boom E: [sfl]: sflcomp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcons.h (
        echo boom E: [sfl]: sflcons.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflconv.h (
        echo boom E: [sfl]: sflconv.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcryp.h (
        echo boom E: [sfl]: sflcryp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldate.h (
        echo boom E: [sfl]: sfldate.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldescr.h (
        echo boom E: [sfl]: sfldescr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldir.h (
        echo boom E: [sfl]: sfldir.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflenv.h (
        echo boom E: [sfl]: sflenv.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflexdr.h (
        echo boom E: [sfl]: sflexdr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfile.h (
        echo boom E: [sfl]: sflfile.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfind.h (
        echo boom E: [sfl]: sflfind.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfort.h (
        echo boom E: [sfl]: sflfort.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflheap.h (
        echo boom E: [sfl]: sflheap.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhttp.h (
        echo boom E: [sfl]: sflhttp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflini.h (
        echo boom E: [sfl]: sflini.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllang.h (
        echo boom E: [sfl]: sfllang.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllbuf.h (
        echo boom E: [sfl]: sfllbuf.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllist.h (
        echo boom E: [sfl]: sfllist.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmail.h (
        echo boom E: [sfl]: sflmail.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmath.h (
        echo boom E: [sfl]: sflmath.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmem.h (
        echo boom E: [sfl]: sflmem.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmesg.h (
        echo boom E: [sfl]: sflmesg.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmime.h (
        echo boom E: [sfl]: sflmime.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflnode.h (
        echo boom E: [sfl]: sflnode.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprint.h (
        echo boom E: [sfl]: sflprint.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproc.h (
        echo boom E: [sfl]: sflproc.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsearch.h (
        echo boom E: [sfl]: sflsearch.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsha.h (
        echo boom E: [sfl]: sflsha.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflslot.h (
        echo boom E: [sfl]: sflslot.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsort.h (
        echo boom E: [sfl]: sflsort.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflstr.h (
        echo boom E: [sfl]: sflstr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsymb.h (
        echo boom E: [sfl]: sflsymb.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsyst.h (
        echo boom E: [sfl]: sflsyst.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltok.h (
        echo boom E: [sfl]: sfltok.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltree.h (
        echo boom E: [sfl]: sfltree.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltron.h (
        echo boom E: [sfl]: sfltron.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfluid.h (
        echo boom E: [sfl]: sfluid.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxml.h (
        echo boom E: [sfl]: sflxml.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmll.h (
        echo boom E: [sfl]: sflxmll.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmls.h (
        echo boom E: [sfl]: sflxmls.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsock.h (
        echo boom E: [sfl]: sflsock.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.l (
        echo boom E: [sfl]: sflcvst.l is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.l (
        echo boom E: [sfl]: sflscrit.l is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomakew.bat (
        echo boom E: [sfl]: boomakew.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomake (
        echo boom E: [sfl]: boomake is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomake.bat (
        echo boom E: [sfl]: boomake.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    goto :eof

:------------------------   CHECK SOURCE FILES EXIST   ------------------------

:a_check_source_files_exist
    if not exist version.h (
        echo boom E: [sfl]: version.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist prelude.h (
        echo boom E: [sfl]: prelude.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhead.h (
        echo boom E: [sfl]: sflhead.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflbits.c (
        echo boom E: [sfl]: sflbits.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcomp.c (
        echo boom E: [sfl]: sflcomp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcons.c (
        echo boom E: [sfl]: sflcons.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflconv.c (
        echo boom E: [sfl]: sflconv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcryp.c (
        echo boom E: [sfl]: sflcryp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldate.c (
        echo boom E: [sfl]: sfldate.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldescr.c (
        echo boom E: [sfl]: sfldescr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldir.c (
        echo boom E: [sfl]: sfldir.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflenv.c (
        echo boom E: [sfl]: sflenv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflexdr.c (
        echo boom E: [sfl]: sflexdr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfile.c (
        echo boom E: [sfl]: sflfile.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfind.c (
        echo boom E: [sfl]: sflfind.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfort.c (
        echo boom E: [sfl]: sflfort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflheap.c (
        echo boom E: [sfl]: sflheap.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhttp.c (
        echo boom E: [sfl]: sflhttp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflini.c (
        echo boom E: [sfl]: sflini.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllang.c (
        echo boom E: [sfl]: sfllang.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllbuf.c (
        echo boom E: [sfl]: sfllbuf.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllist.c (
        echo boom E: [sfl]: sfllist.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmail.c (
        echo boom E: [sfl]: sflmail.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmath.c (
        echo boom E: [sfl]: sflmath.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmem.c (
        echo boom E: [sfl]: sflmem.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmesg.c (
        echo boom E: [sfl]: sflmesg.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmime.c (
        echo boom E: [sfl]: sflmime.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflnode.c (
        echo boom E: [sfl]: sflnode.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprint.c (
        echo boom E: [sfl]: sflprint.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproc.c (
        echo boom E: [sfl]: sflproc.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsearch.c (
        echo boom E: [sfl]: sflsearch.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsha.c (
        echo boom E: [sfl]: sflsha.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflslot.c (
        echo boom E: [sfl]: sflslot.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsort.c (
        echo boom E: [sfl]: sflsort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflstr.c (
        echo boom E: [sfl]: sflstr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsymb.c (
        echo boom E: [sfl]: sflsymb.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsyst.c (
        echo boom E: [sfl]: sflsyst.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltok.c (
        echo boom E: [sfl]: sfltok.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltree.c (
        echo boom E: [sfl]: sfltree.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltron.c (
        echo boom E: [sfl]: sfltron.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfluid.c (
        echo boom E: [sfl]: sfluid.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxml.c (
        echo boom E: [sfl]: sflxml.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmll.c (
        echo boom E: [sfl]: sflxmll.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmls.c (
        echo boom E: [sfl]: sflxmls.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsock.c (
        echo boom E: [sfl]: sflsock.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvbs.c (
        echo boom E: [sfl]: sflcvbs.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvdp.c (
        echo boom E: [sfl]: sflcvdp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvds.c (
        echo boom E: [sfl]: sflcvds.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvns.c (
        echo boom E: [sfl]: sflcvns.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsb.c (
        echo boom E: [sfl]: sflcvsb.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsd.c (
        echo boom E: [sfl]: sflcvsd.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvsn.c (
        echo boom E: [sfl]: sflcvsn.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.c (
        echo boom E: [sfl]: sflcvst.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvtp.c (
        echo boom E: [sfl]: sflcvtp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvts.c (
        echo boom E: [sfl]: sflcvts.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.c (
        echo boom E: [sfl]: sflscrit.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproco.imp (
        echo boom E: [sfl]: sflproco.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocu.imp (
        echo boom E: [sfl]: sflprocu.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocv.imp (
        echo boom E: [sfl]: sflprocv.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocw.imp (
        echo boom E: [sfl]: sflprocw.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocx.h (
        echo boom E: [sfl]: sflprocx.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprocx.imp (
        echo boom E: [sfl]: sflprocx.imp is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testall.c (
        echo boom E: [sfl]: testall.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testbits.c (
        echo boom E: [sfl]: testbits.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcgi.c (
        echo boom E: [sfl]: testcgi.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcomp.c (
        echo boom E: [sfl]: testcomp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testconv.c (
        echo boom E: [sfl]: testconv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testcryp.c (
        echo boom E: [sfl]: testcryp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testdate.c (
        echo boom E: [sfl]: testdate.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testdir.c (
        echo boom E: [sfl]: testdir.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testenv.c (
        echo boom E: [sfl]: testenv.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testexdr.c (
        echo boom E: [sfl]: testexdr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfile.c (
        echo boom E: [sfl]: testfile.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfind.c (
        echo boom E: [sfl]: testfind.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfort.c (
        echo boom E: [sfl]: testfort.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testheap.c (
        echo boom E: [sfl]: testheap.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testhttp.c (
        echo boom E: [sfl]: testhttp.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testini.c (
        echo boom E: [sfl]: testini.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testlang.c (
        echo boom E: [sfl]: testlang.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testmem.c (
        echo boom E: [sfl]: testmem.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testmime.c (
        echo boom E: [sfl]: testmime.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testproc.c (
        echo boom E: [sfl]: testproc.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist teststr.c (
        echo boom E: [sfl]: teststr.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testsym.c (
        echo boom E: [sfl]: testsym.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtok.c (
        echo boom E: [sfl]: testtok.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtree.c (
        echo boom E: [sfl]: testtree.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testtron.c (
        echo boom E: [sfl]: testtron.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testuid.c (
        echo boom E: [sfl]: testuid.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testxml.c (
        echo boom E: [sfl]: testxml.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testxmls.c (
        echo boom E: [sfl]: testxmls.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testsearch.c (
        echo boom E: [sfl]: testsearch.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testconv.dat (
        echo boom E: [sfl]: testconv.dat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist testfort.txt (
        echo boom E: [sfl]: testfort.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist dos2unix.c (
        echo boom E: [sfl]: dos2unix.c is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist project.pdl (
        echo boom E: [sfl]: project.pdl is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist readme.txt (
        echo boom E: [sfl]: readme.txt is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflbits.h (
        echo boom E: [sfl]: sflbits.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcomp.h (
        echo boom E: [sfl]: sflcomp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcons.h (
        echo boom E: [sfl]: sflcons.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflconv.h (
        echo boom E: [sfl]: sflconv.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcryp.h (
        echo boom E: [sfl]: sflcryp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldate.h (
        echo boom E: [sfl]: sfldate.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldescr.h (
        echo boom E: [sfl]: sfldescr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfldir.h (
        echo boom E: [sfl]: sfldir.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflenv.h (
        echo boom E: [sfl]: sflenv.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflexdr.h (
        echo boom E: [sfl]: sflexdr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfile.h (
        echo boom E: [sfl]: sflfile.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfind.h (
        echo boom E: [sfl]: sflfind.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflfort.h (
        echo boom E: [sfl]: sflfort.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflheap.h (
        echo boom E: [sfl]: sflheap.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflhttp.h (
        echo boom E: [sfl]: sflhttp.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflini.h (
        echo boom E: [sfl]: sflini.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllang.h (
        echo boom E: [sfl]: sfllang.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllbuf.h (
        echo boom E: [sfl]: sfllbuf.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfllist.h (
        echo boom E: [sfl]: sfllist.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmail.h (
        echo boom E: [sfl]: sflmail.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmath.h (
        echo boom E: [sfl]: sflmath.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmem.h (
        echo boom E: [sfl]: sflmem.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmesg.h (
        echo boom E: [sfl]: sflmesg.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflmime.h (
        echo boom E: [sfl]: sflmime.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflnode.h (
        echo boom E: [sfl]: sflnode.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflprint.h (
        echo boom E: [sfl]: sflprint.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflproc.h (
        echo boom E: [sfl]: sflproc.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsearch.h (
        echo boom E: [sfl]: sflsearch.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsha.h (
        echo boom E: [sfl]: sflsha.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflslot.h (
        echo boom E: [sfl]: sflslot.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsort.h (
        echo boom E: [sfl]: sflsort.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflstr.h (
        echo boom E: [sfl]: sflstr.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsymb.h (
        echo boom E: [sfl]: sflsymb.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsyst.h (
        echo boom E: [sfl]: sflsyst.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltok.h (
        echo boom E: [sfl]: sfltok.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltree.h (
        echo boom E: [sfl]: sfltree.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfltron.h (
        echo boom E: [sfl]: sfltron.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfluid.h (
        echo boom E: [sfl]: sfluid.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxml.h (
        echo boom E: [sfl]: sflxml.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmll.h (
        echo boom E: [sfl]: sflxmll.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflxmls.h (
        echo boom E: [sfl]: sflxmls.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflsock.h (
        echo boom E: [sfl]: sflsock.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.l (
        echo boom E: [sfl]: sflcvst.l is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.i (
        echo boom E: [sfl]: sflcvst.i is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflcvst.d (
        echo boom E: [sfl]: sflcvst.d is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.l (
        echo boom E: [sfl]: sflscrit.l is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.i (
        echo boom E: [sfl]: sflscrit.i is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sflscrit.d (
        echo boom E: [sfl]: sflscrit.d is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist sfl.h (
        echo boom E: [sfl]: sfl.h is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist stamp_generate (
        echo boom E: [sfl]: stamp_generate is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomakew.bat (
        echo boom E: [sfl]: boomakew.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist configure (
        echo boom E: [sfl]: configure is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist Makefile.unix (
        echo boom E: [sfl]: Makefile.unix is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomake (
        echo boom E: [sfl]: boomake is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist configure.bat (
        echo boom E: [sfl]: configure.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist Makefile.win32 (
        echo boom E: [sfl]: Makefile.win32 is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist boomake.bat (
        echo boom E: [sfl]: boomake.bat is missing, cannot continue
        set _exception=1
        goto :eof
    )
    if not exist libsfl.vcproj (
        echo boom E: [sfl]: libsfl.vcproj is missing, cannot continue
        set _exception=1
        goto :eof
    )
    goto :eof

:--------------------------   INSTALL DELIVERABLES   --------------------------

:a_install_deliverables
    echo boom I: [sfl]: installing SFL into !_INSTALL_ROOT!...
    if not exist !_INSTALL_ROOT! mkdir !_INSTALL_ROOT!
    if not exist !_INSTALL_ROOT!\lib\nul mkdir !_INSTALL_ROOT!\lib\
    if "!BOOM_TRACE!"=="1" echo copy/y libsfl.lib !_INSTALL_ROOT!\lib\>nul
    verify>nul
    call copy/y libsfl.lib !_INSTALL_ROOT!\lib\>nul
    if errorlevel 1 (
        echo boom E: [sfl]: 'copy/y libsfl.lib !_INSTALL_ROOT!\lib\>nul' failed - stop.
        set _exception=1
        goto :eof
    )
    if not exist !_INSTALL_ROOT!\bin\nul mkdir !_INSTALL_ROOT!\bin\
    if not exist !_INSTALL_ROOT!\doc\SFL\nul mkdir !_INSTALL_ROOT!\doc\SFL\
    if "!BOOM_TRACE!"=="1" echo copy/y readme.txt !_INSTALL_ROOT!\doc\SFL\>nul
    verify>nul
    call copy/y readme.txt !_INSTALL_ROOT!\doc\SFL\>nul
    if errorlevel 1 (
        echo boom E: [sfl]: 'copy/y readme.txt !_INSTALL_ROOT!\doc\SFL\>nul' failed - stop.
        set _exception=1
        goto :eof
    )
    if not exist !_INSTALL_ROOT!\include\nul mkdir !_INSTALL_ROOT!\include\
    if "!BOOM_TRACE!"=="1" echo copy/y sfl.h !_INSTALL_ROOT!\include\>nul
    verify>nul
    call copy/y sfl.h !_INSTALL_ROOT!\include\>nul
    if errorlevel 1 (
        echo boom E: [sfl]: 'copy/y sfl.h !_INSTALL_ROOT!\include\>nul' failed - stop.
        set _exception=1
        goto :eof
    )
    if exist installer.bat (
    if "!BOOM_TRACE!"=="1" echo installer
    verify>nul
    call installer
    if errorlevel 1 (
        echo boom E: [sfl]: 'installer' failed - stop.
        set _exception=1
        goto :eof
    )
    )
    goto :eof

:-----------------------   PRODUCE ALL GENERATED FILES   ----------------------

:a_produce_all_generated_files
    echo boom I: [sfl]: Generating files...
    if exist sfl.h del sfl.h
    if "!BOOM_TRACE!"=="1" echo type sflhead.h>>sfl.h
    verify>nul
    call type sflhead.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflhead.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type prelude.h>>sfl.h
    verify>nul
    call type prelude.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type prelude.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflbits.h>>sfl.h
    verify>nul
    call type sflbits.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflbits.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflcomp.h>>sfl.h
    verify>nul
    call type sflcomp.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflcomp.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflcons.h>>sfl.h
    verify>nul
    call type sflcons.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflcons.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflconv.h>>sfl.h
    verify>nul
    call type sflconv.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflconv.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflcryp.h>>sfl.h
    verify>nul
    call type sflcryp.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflcryp.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfldate.h>>sfl.h
    verify>nul
    call type sfldate.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfldate.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfldescr.h>>sfl.h
    verify>nul
    call type sfldescr.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfldescr.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflexdr.h>>sfl.h
    verify>nul
    call type sflexdr.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflexdr.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflfile.h>>sfl.h
    verify>nul
    call type sflfile.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflfile.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflfind.h>>sfl.h
    verify>nul
    call type sflfind.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflfind.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflfort.h>>sfl.h
    verify>nul
    call type sflfort.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflfort.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflheap.h>>sfl.h
    verify>nul
    call type sflheap.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflheap.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfllang.h>>sfl.h
    verify>nul
    call type sfllang.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfllang.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfllbuf.h>>sfl.h
    verify>nul
    call type sfllbuf.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfllbuf.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfllist.h>>sfl.h
    verify>nul
    call type sfllist.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfllist.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflnode.h>>sfl.h
    verify>nul
    call type sflnode.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflnode.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmath.h>>sfl.h
    verify>nul
    call type sflmath.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmath.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmem.h>>sfl.h
    verify>nul
    call type sflmem.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmem.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmesg.h>>sfl.h
    verify>nul
    call type sflmesg.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmesg.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmime.h>>sfl.h
    verify>nul
    call type sflmime.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmime.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflnode.h>>sfl.h
    verify>nul
    call type sflnode.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflnode.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfldir.h>>sfl.h
    verify>nul
    call type sfldir.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfldir.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflslot.h>>sfl.h
    verify>nul
    call type sflslot.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflslot.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsock.h>>sfl.h
    verify>nul
    call type sflsock.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsock.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmail.h>>sfl.h
    verify>nul
    call type sflmail.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmail.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsort.h>>sfl.h
    verify>nul
    call type sflsort.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsort.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsha.h>>sfl.h
    verify>nul
    call type sflsha.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsha.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflstr.h>>sfl.h
    verify>nul
    call type sflstr.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflstr.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsymb.h>>sfl.h
    verify>nul
    call type sflsymb.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsymb.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflproc.h>>sfl.h
    verify>nul
    call type sflproc.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflproc.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflprint.h>>sfl.h
    verify>nul
    call type sflprint.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflprint.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsyst.h>>sfl.h
    verify>nul
    call type sflsyst.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsyst.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsearch.h>>sfl.h
    verify>nul
    call type sflsearch.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsearch.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflhttp.h>>sfl.h
    verify>nul
    call type sflhttp.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflhttp.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflini.h>>sfl.h
    verify>nul
    call type sflini.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflini.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflenv.h>>sfl.h
    verify>nul
    call type sflenv.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflenv.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfltok.h>>sfl.h
    verify>nul
    call type sfltok.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfltok.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfltree.h>>sfl.h
    verify>nul
    call type sfltree.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfltree.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfltron.h>>sfl.h
    verify>nul
    call type sfltron.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfltron.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfluid.h>>sfl.h
    verify>nul
    call type sfluid.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfluid.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflxml.h>>sfl.h
    verify>nul
    call type sflxml.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflxml.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflxmll.h>>sfl.h
    verify>nul
    call type sflxmll.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflxmll.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflxmls.h>>sfl.h
    verify>nul
    call type sflxmls.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflxmls.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo lr -quiet sflcvst.l
    verify>nul
    call lr -quiet sflcvst.l
    if errorlevel 1 (
        echo boom E: [sfl]: 'lr -quiet sflcvst.l' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo lr -quiet sflscrit.l
    verify>nul
    call lr -quiet sflscrit.l
    if errorlevel 1 (
        echo boom E: [sfl]: 'lr -quiet sflscrit.l' failed - stop.
        set _exception=1
        goto :eof
    )
    echo Source files successfully generated>stamp_generate
    goto :eof

:-------------------------   PRODUCE GENERATED FILES   ------------------------

:a_produce_generated_files
    echo boom I: [sfl]: Generating files...
    if exist sfl.h del sfl.h
    if "!BOOM_TRACE!"=="1" echo type sflhead.h>>sfl.h
    verify>nul
    call type sflhead.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflhead.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type prelude.h>>sfl.h
    verify>nul
    call type prelude.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type prelude.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflbits.h>>sfl.h
    verify>nul
    call type sflbits.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflbits.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflcomp.h>>sfl.h
    verify>nul
    call type sflcomp.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflcomp.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflcons.h>>sfl.h
    verify>nul
    call type sflcons.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflcons.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflconv.h>>sfl.h
    verify>nul
    call type sflconv.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflconv.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflcryp.h>>sfl.h
    verify>nul
    call type sflcryp.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflcryp.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfldate.h>>sfl.h
    verify>nul
    call type sfldate.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfldate.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfldescr.h>>sfl.h
    verify>nul
    call type sfldescr.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfldescr.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflexdr.h>>sfl.h
    verify>nul
    call type sflexdr.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflexdr.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflfile.h>>sfl.h
    verify>nul
    call type sflfile.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflfile.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflfind.h>>sfl.h
    verify>nul
    call type sflfind.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflfind.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflfort.h>>sfl.h
    verify>nul
    call type sflfort.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflfort.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflheap.h>>sfl.h
    verify>nul
    call type sflheap.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflheap.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfllang.h>>sfl.h
    verify>nul
    call type sfllang.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfllang.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfllbuf.h>>sfl.h
    verify>nul
    call type sfllbuf.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfllbuf.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfllist.h>>sfl.h
    verify>nul
    call type sfllist.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfllist.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflnode.h>>sfl.h
    verify>nul
    call type sflnode.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflnode.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmath.h>>sfl.h
    verify>nul
    call type sflmath.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmath.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmem.h>>sfl.h
    verify>nul
    call type sflmem.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmem.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmesg.h>>sfl.h
    verify>nul
    call type sflmesg.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmesg.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmime.h>>sfl.h
    verify>nul
    call type sflmime.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmime.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflnode.h>>sfl.h
    verify>nul
    call type sflnode.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflnode.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfldir.h>>sfl.h
    verify>nul
    call type sfldir.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfldir.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflslot.h>>sfl.h
    verify>nul
    call type sflslot.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflslot.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsock.h>>sfl.h
    verify>nul
    call type sflsock.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsock.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflmail.h>>sfl.h
    verify>nul
    call type sflmail.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflmail.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsort.h>>sfl.h
    verify>nul
    call type sflsort.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsort.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsha.h>>sfl.h
    verify>nul
    call type sflsha.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsha.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflstr.h>>sfl.h
    verify>nul
    call type sflstr.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflstr.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsymb.h>>sfl.h
    verify>nul
    call type sflsymb.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsymb.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflproc.h>>sfl.h
    verify>nul
    call type sflproc.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflproc.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflprint.h>>sfl.h
    verify>nul
    call type sflprint.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflprint.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsyst.h>>sfl.h
    verify>nul
    call type sflsyst.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsyst.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflsearch.h>>sfl.h
    verify>nul
    call type sflsearch.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflsearch.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflhttp.h>>sfl.h
    verify>nul
    call type sflhttp.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflhttp.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflini.h>>sfl.h
    verify>nul
    call type sflini.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflini.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflenv.h>>sfl.h
    verify>nul
    call type sflenv.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflenv.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfltok.h>>sfl.h
    verify>nul
    call type sfltok.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfltok.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfltree.h>>sfl.h
    verify>nul
    call type sfltree.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfltree.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfltron.h>>sfl.h
    verify>nul
    call type sfltron.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfltron.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sfluid.h>>sfl.h
    verify>nul
    call type sfluid.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sfluid.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflxml.h>>sfl.h
    verify>nul
    call type sflxml.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflxml.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflxmll.h>>sfl.h
    verify>nul
    call type sflxmll.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflxmll.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo type sflxmls.h>>sfl.h
    verify>nul
    call type sflxmls.h>>sfl.h
    if errorlevel 1 (
        echo boom E: [sfl]: 'type sflxmls.h>>sfl.h' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo lr -quiet sflcvst.l
    verify>nul
    call lr -quiet sflcvst.l
    if errorlevel 1 (
        echo boom E: [sfl]: 'lr -quiet sflcvst.l' failed - stop.
        set _exception=1
        goto :eof
    )
    if "!BOOM_TRACE!"=="1" echo lr -quiet sflscrit.l
    verify>nul
    call lr -quiet sflscrit.l
    if errorlevel 1 (
        echo boom E: [sfl]: 'lr -quiet sflscrit.l' failed - stop.
        set _exception=1
        goto :eof
    )
    echo Source files successfully generated>stamp_generate
    goto :eof

:------------------------   REMOVE GENERATED BINARIES   -----------------------

:a_remove_generated_binaries
    if exist libsfl.lib del libsfl.lib
    if exist sflbits.obj del sflbits.obj
    if exist sflcomp.obj del sflcomp.obj
    if exist sflcons.obj del sflcons.obj
    if exist sflconv.obj del sflconv.obj
    if exist sflcryp.obj del sflcryp.obj
    if exist sfldate.obj del sfldate.obj
    if exist sfldescr.obj del sfldescr.obj
    if exist sfldir.obj del sfldir.obj
    if exist sflenv.obj del sflenv.obj
    if exist sflexdr.obj del sflexdr.obj
    if exist sflfile.obj del sflfile.obj
    if exist sflfind.obj del sflfind.obj
    if exist sflfort.obj del sflfort.obj
    if exist sflheap.obj del sflheap.obj
    if exist sflhttp.obj del sflhttp.obj
    if exist sflini.obj del sflini.obj
    if exist sfllang.obj del sfllang.obj
    if exist sfllbuf.obj del sfllbuf.obj
    if exist sfllist.obj del sfllist.obj
    if exist sflmail.obj del sflmail.obj
    if exist sflmath.obj del sflmath.obj
    if exist sflmem.obj del sflmem.obj
    if exist sflmesg.obj del sflmesg.obj
    if exist sflmime.obj del sflmime.obj
    if exist sflnode.obj del sflnode.obj
    if exist sflprint.obj del sflprint.obj
    if exist sflproc.obj del sflproc.obj
    if exist sflsearch.obj del sflsearch.obj
    if exist sflsha.obj del sflsha.obj
    if exist sflslot.obj del sflslot.obj
    if exist sflsort.obj del sflsort.obj
    if exist sflstr.obj del sflstr.obj
    if exist sflsymb.obj del sflsymb.obj
    if exist sflsyst.obj del sflsyst.obj
    if exist sfltok.obj del sfltok.obj
    if exist sfltree.obj del sfltree.obj
    if exist sfltron.obj del sfltron.obj
    if exist sfluid.obj del sfluid.obj
    if exist sflxml.obj del sflxml.obj
    if exist sflxmll.obj del sflxmll.obj
    if exist sflxmls.obj del sflxmls.obj
    if exist sflsock.obj del sflsock.obj
    if exist sflcvbs.obj del sflcvbs.obj
    if exist sflcvdp.obj del sflcvdp.obj
    if exist sflcvds.obj del sflcvds.obj
    if exist sflcvns.obj del sflcvns.obj
    if exist sflcvsb.obj del sflcvsb.obj
    if exist sflcvsd.obj del sflcvsd.obj
    if exist sflcvsn.obj del sflcvsn.obj
    if exist sflcvst.obj del sflcvst.obj
    if exist sflcvtp.obj del sflcvtp.obj
    if exist sflcvts.obj del sflcvts.obj
    if exist sflscrit.obj del sflscrit.obj
    if exist testall.obj del testall.obj
    if exist testall.exe del testall.exe
    if exist testbits.obj del testbits.obj
    if exist testbits.exe del testbits.exe
    if exist testcgi.obj del testcgi.obj
    if exist testcgi.exe del testcgi.exe
    if exist testcomp.obj del testcomp.obj
    if exist testcomp.exe del testcomp.exe
    if exist testconv.obj del testconv.obj
    if exist testconv.exe del testconv.exe
    if exist testcryp.obj del testcryp.obj
    if exist testcryp.exe del testcryp.exe
    if exist testdate.obj del testdate.obj
    if exist testdate.exe del testdate.exe
    if exist testdir.obj del testdir.obj
    if exist testdir.exe del testdir.exe
    if exist testenv.obj del testenv.obj
    if exist testenv.exe del testenv.exe
    if exist testexdr.obj del testexdr.obj
    if exist testexdr.exe del testexdr.exe
    if exist testfile.obj del testfile.obj
    if exist testfile.exe del testfile.exe
    if exist testfind.obj del testfind.obj
    if exist testfind.exe del testfind.exe
    if exist testfort.obj del testfort.obj
    if exist testfort.exe del testfort.exe
    if exist testheap.obj del testheap.obj
    if exist testheap.exe del testheap.exe
    if exist testhttp.obj del testhttp.obj
    if exist testhttp.exe del testhttp.exe
    if exist testini.obj del testini.obj
    if exist testini.exe del testini.exe
    if exist testlang.obj del testlang.obj
    if exist testlang.exe del testlang.exe
    if exist testmem.obj del testmem.obj
    if exist testmem.exe del testmem.exe
    if exist testmime.obj del testmime.obj
    if exist testmime.exe del testmime.exe
    if exist testproc.obj del testproc.obj
    if exist testproc.exe del testproc.exe
    if exist teststr.obj del teststr.obj
    if exist teststr.exe del teststr.exe
    if exist testsym.obj del testsym.obj
    if exist testsym.exe del testsym.exe
    if exist testtok.obj del testtok.obj
    if exist testtok.exe del testtok.exe
    if exist testtree.obj del testtree.obj
    if exist testtree.exe del testtree.exe
    if exist testtron.obj del testtron.obj
    if exist testtron.exe del testtron.exe
    if exist testuid.obj del testuid.obj
    if exist testuid.exe del testuid.exe
    if exist testxml.obj del testxml.obj
    if exist testxml.exe del testxml.exe
    if exist testxmls.obj del testxmls.obj
    if exist testxmls.exe del testxmls.exe
    if exist testsearch.obj del testsearch.obj
    if exist testsearch.exe del testsearch.exe
    if exist dos2unix.obj del dos2unix.obj
    if exist dos2unix.exe del dos2unix.exe
    if exist vc60.pdb del vc60.pdb
    goto :eof

:------------------------   REMOVE GENERATED SOURCES   ------------------------

:a_remove_generated_sources
    if exist sflcvst.i del sflcvst.i
    if exist sflcvst.d del sflcvst.d
    if exist sflscrit.i del sflscrit.i
    if exist sflscrit.d del sflscrit.d
    if exist sfl.h del sfl.h
    if exist stamp_generate del stamp_generate
    if exist configure del configure
    if exist Makefile.unix del Makefile.unix
    if exist configure.bat del configure.bat
    if exist Makefile.win32 del Makefile.win32
    if exist libsfl.vcproj del libsfl.vcproj
    if exist sfl_*.zip del sfl_*.zip
    goto :eof

:-------------------------   REPORT HELP INFORMATION   ------------------------

:a_report_help_information
    echo The commands you can currently use on this project are:
    echo.
    goto r_!state!
    goto :eof

:-------------------------   REPORT PROJECT VERSION   -------------------------

:a_report_project_version
    echo sfl-3.31
    goto :eof

:--------------------------   RUN REGRESSION TESTS   --------------------------

:a_run_regression_tests
    :-  Run local selftest script if present
    if exist selftest.bat (
    if "!BOOM_TRACE!"=="1" echo selftest
    verify>nul
    call selftest
    if errorlevel 1 (
        echo boom E: [sfl]: 'selftest' failed - stop.
        set _exception=1
        goto :eof
    )
    )
    goto :eof

:-----------------------   USE SOURCE CONTROL REVISION   ----------------------

:a_use_source_control_revision
    set SVN_REVISION=svn
    if exist .svn
ul (
        for /f "usebackq tokens=1,2 delims=: " %%v in (`svn info`) do if "%%v"=="Revision" set SVN_REVISION=%%w
    )
    set MY_VERSION=!MY_VERSION!-!SVN_REVISION!
    goto :eof

:s_initial
    if "!debug!"=="1" echo State: initial
    if "!event!"=="" goto s_1_empty
    if "!event!"=="ok" goto s_1_1
    echo Unknown command - use one of:
    echo.
    goto r_!state!
:s_1_1
    if "!debug!"=="1" echo Event: ok
    set event=
    if "!debug!"=="1" echo Action: check operating context
    set _exception=
    call :a_check_operating_context
    if "!_exception!"=="1" exit /b 1
    set state=initial_check
    goto s_!state!
:s_1_empty
    if "!debug!"=="1" echo Get event from user
    set event=%1
    shift
    if "!event!"=="" set event=empty
    goto s_initial
:r_initial
    exit /b 0

:s_initial_check
    if "!debug!"=="1" echo State: initial check
    if "!event!"=="" goto s_2_empty
    if "!event!"=="repository" goto s_2_1
    if "!event!"=="source" goto s_2_2
    if "!event!"=="stripped" goto s_2_3
    echo Unknown command - use one of:
    echo.
    goto r_!state!
:s_2_1
    if "!debug!"=="1" echo Event: repository
    set event=
    set state=repository
    goto s_!state!
:s_2_2
    if "!debug!"=="1" echo Event: source
    set event=
    set state=source
    goto s_!state!
:s_2_3
    if "!debug!"=="1" echo Event: stripped
    set event=
    set state=stripped
    goto s_!state!
:s_2_empty
    if "!debug!"=="1" echo Get event from user
    set event=%1
    shift
    if "!event!"=="" set event=empty
    goto s_initial_check
:r_initial_check
    exit /b 0

:s_repository
    if "!debug!"=="1" echo State: repository
    if "!event!"=="" goto s_3_empty
    if "!event!"=="build" goto s_3_1
    if "!event!"=="compile" goto s_3_2
    if "!event!"=="clean" goto s_3_3
    if "!event!"=="regen" goto s_3_4
    if "!event!"=="allgen" goto s_3_5
    if "!event!"=="distrib" goto s_3_6
    if "!event!"=="distsrc" goto s_3_7
    if "!event!"=="distrev" goto s_3_8
    goto s_default
:s_3_1
    if "!debug!"=="1" echo Event: build
    set event=
    if "!debug!"=="1" echo Action: check project files exist
    set _exception=
    call :a_check_project_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: produce generated files
    set _exception=
    call :a_produce_generated_files
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: check source files exist
    set _exception=
    call :a_check_source_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: build binary files
    set _exception=
    call :a_build_binary_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_2
    if "!debug!"=="1" echo Event: compile
    set event=
    if "!debug!"=="1" echo Action: check source files exist
    set _exception=
    call :a_check_source_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: build binary files
    set _exception=
    call :a_build_binary_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_3
    if "!debug!"=="1" echo Event: clean
    set event=
    if "!debug!"=="1" echo Action: remove generated sources
    set _exception=
    call :a_remove_generated_sources
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: remove generated binaries
    set _exception=
    call :a_remove_generated_binaries
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_4
    if "!debug!"=="1" echo Event: regen
    set event=
    if "!debug!"=="1" echo Action: check project files exist
    set _exception=
    call :a_check_project_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: produce generated files
    set _exception=
    call :a_produce_generated_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_5
    if "!debug!"=="1" echo Event: allgen
    set event=
    if "!debug!"=="1" echo Action: check project files exist
    set _exception=
    call :a_check_project_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: produce all generated files
    set _exception=
    call :a_produce_all_generated_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_6
    if "!debug!"=="1" echo Event: distrib
    set event=
    if "!debug!"=="1" echo Action: produce all generated files
    set _exception=
    call :a_produce_all_generated_files
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: check all source files exist
    set _exception=
    call :a_check_all_source_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: build source packages
    set _exception=
    call :a_build_source_packages
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_7
    if "!debug!"=="1" echo Event: distsrc
    set event=
    if "!debug!"=="1" echo Action: produce all generated files
    set _exception=
    call :a_produce_all_generated_files
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: check all source files exist
    set _exception=
    call :a_check_all_source_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: build source packages
    set _exception=
    call :a_build_source_packages
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_8
    if "!debug!"=="1" echo Event: distrev
    set event=
    if "!debug!"=="1" echo Action: produce all generated files
    set _exception=
    call :a_produce_all_generated_files
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: check all source files exist
    set _exception=
    call :a_check_all_source_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: use source control revision
    set _exception=
    call :a_use_source_control_revision
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: build source packages
    set _exception=
    call :a_build_source_packages
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_3_empty
    if "!debug!"=="1" echo Get event from user
    set event=%1
    shift
    if "!event!"=="" set event=empty
    goto s_repository
:r_repository
echo build:
    echo   From the raw project sources, produces all generated files, and
    echo     compiles all source files.
echo compile:
    echo   From the raw project sources, compiles all source files without any
    echo     code generation.
echo clean:
    echo   When working with the raw project sources, removes all generated
    echo     source and binary files from the project directory.
echo regen:
    echo   Produces generated files required for building using the
    echo     current model.
echo allgen:
    echo   Produces all generated files.
echo distrib:
    echo   Creates a source distribution for the project.  Note that binary
    echo     distributions can only be created at the product level.
echo distsrc:
    echo   Equivalent to distrib, provided for compatibility.
echo distrev:
    echo   Creates a source distribution for the project.  Builds distribution
    echo     packages based on source control version number. Note that binary
    echo     distributions can only be created at the product level.
    goto r_default

:s_source
    if "!debug!"=="1" echo State: source
    if "!event!"=="" goto s_4_empty
    if "!event!"=="build" goto s_4_1
    if "!event!"=="clean" goto s_4_2
    if "!event!"=="regen" goto s_4_3
    if "!event!"=="allgen" goto s_4_4
    goto s_default
:s_4_1
    if "!debug!"=="1" echo Event: build
    set event=
    if "!debug!"=="1" echo Action: check source files exist
    set _exception=
    call :a_check_source_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: build binary files
    set _exception=
    call :a_build_binary_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_4_2
    if "!debug!"=="1" echo Event: clean
    set event=
    if "!debug!"=="1" echo Action: remove generated binaries
    set _exception=
    call :a_remove_generated_binaries
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_4_3
    if "!debug!"=="1" echo Event: regen
    set event=
    if "!debug!"=="1" echo Action: check project files exist
    set _exception=
    call :a_check_project_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: produce generated files
    set _exception=
    call :a_produce_generated_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_4_4
    if "!debug!"=="1" echo Event: allgen
    set event=
    if "!debug!"=="1" echo Action: check project files exist
    set _exception=
    call :a_check_project_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: produce all generated files
    set _exception=
    call :a_produce_all_generated_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_4_empty
    if "!debug!"=="1" echo Get event from user
    set event=%1
    shift
    if "!event!"=="" set event=empty
    goto s_source
:r_source
echo build:
    echo   From the packaged sources, compiles all source files without any
    echo     code generation.
echo clean:
    echo   When working with the packaged sources, removes all generated
    echo     binary files from the project directory.
echo regen:
    echo   Produces generated files required for building using the
    echo     current model.
echo allgen:
    echo   Produces all generated files.
    goto r_default

:s_stripped
    if "!debug!"=="1" echo State: stripped
    if "!event!"=="" goto s_5_empty
    if "!event!"=="build" goto s_5_1
    if "!event!"=="clean" goto s_5_2
    goto s_default
:s_5_1
    if "!debug!"=="1" echo Event: build
    set event=
    if "!debug!"=="1" echo Action: build binary files
    set _exception=
    call :a_build_binary_files
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_5_2
    if "!debug!"=="1" echo Event: clean
    set event=
    if "!debug!"=="1" echo Action: remove generated binaries
    set _exception=
    call :a_remove_generated_binaries
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_5_empty
    if "!debug!"=="1" echo Get event from user
    set event=%1
    shift
    if "!event!"=="" set event=empty
    goto s_stripped
:r_stripped
echo build:
    echo   From the stripped-down packaged sources, compiles all source files
    echo     without any code generation.
echo clean:
    echo   When working with the packaged sources, removes all generated
    echo     binary files from the project directory.
    goto r_default

:s_default
    if "!debug!"=="1" echo State: default
    if "!event!"=="" goto s_6_empty
    if "!event!"=="install" goto s_6_1
    if "!event!"=="test" goto s_6_2
    if "!event!"=="help" goto s_6_3
    if "!event!"=="version" goto s_6_4
    if "!event!"=="empty" goto s_6_5
    echo Unknown command - use one of:
    echo.
    goto r_!state!
:s_6_1
    if "!debug!"=="1" echo Event: install
    set event=
    if "!debug!"=="1" echo Action: check binary files exist
    set _exception=
    call :a_check_binary_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: install deliverables
    set _exception=
    call :a_install_deliverables
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_6_2
    if "!debug!"=="1" echo Event: test
    set event=
    if "!debug!"=="1" echo Action: check binary files exist
    set _exception=
    call :a_check_binary_files_exist
    if "!_exception!"=="1" exit /b 1
    if "!debug!"=="1" echo Action: run regression tests
    set _exception=
    call :a_run_regression_tests
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_6_3
    if "!debug!"=="1" echo Event: help
    set event=
    if "!debug!"=="1" echo Action: report help information
    set _exception=
    call :a_report_help_information
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_6_4
    if "!debug!"=="1" echo Event: version
    set event=
    if "!debug!"=="1" echo Action: report project version
    set _exception=
    call :a_report_project_version
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_6_5
    if "!debug!"=="1" echo Event: empty
    set event=
    if "!debug!"=="1" echo Action: report help information
    set _exception=
    call :a_report_help_information
    if "!_exception!"=="1" exit /b 1
    if not "%1"=="" goto process
    exit /b 0
:s_6_empty
    if "!debug!"=="1" echo Get event from user
    set event=%1
    shift
    if "!event!"=="" set event=empty
    goto s_default
:r_default
echo install:
    echo   Installs deliverables into the final or temporary install tree.
    echo     This action is only valid after a successful build.
echo test:
    echo   Runs regression tests for the project.
echo help:
    echo   Shows a list of the commands allowed on the project.
echo version:
    echo   Show project version.
    exit /b 0


exit /b 0
